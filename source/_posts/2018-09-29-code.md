---
layout: post
categories: Mind
title: 代码形式
---

这几年，编程的**门槛**变得越来越低了，

相关的软件开发知识也变得越来越普及，

似乎人人都可以写那么几段代码，这并不是什么难事。

<br/>

然而，作为一门**技巧**，

编程初学者和经验丰富的**匠人**，还是有所不同的，

这不仅体现在最终**结果**上，还体现在对**代码本身**的看待方式上。

<br/>

我们都知道，代码主要的作用是**实现功能**，

与他人合作的时候，代码还能起到**沟通想法**的作用。

<br/>

因此，**功能目标**是重要的，**实现方式**是其次，

**沟通的结果**是重要的，**沟通形式**是其次。

<br/>

本文打算对，代码如何实现功能的**表现形式**，进行探讨。

<br/>

### 喜好

通常实现一段功能，我们可以用不止一种方式进行编程，

那么为什么最后我们选择了其中一种呢？

这是我们觉得代码有**好坏之分**。

<br/>

代码能体现开发者的**品味**。

<br/>

努力编写出一段看起来**漂亮**的代码，是一件好事，

但是这件事很容易做得**适得其反**，

因为好坏的评判标准是模糊的，某些方面也是因人而异的。

<br/>

简而言之，我们认为好的，别人不一定认为好。

别人认为好的，我们也许不这么认为。

<br/>

所以，虽然追求把代码写好是一种好**习惯**，

但是如果**过于追求**代码形式，就会浪费很多时间，

而且还不能达到预期的效果。

<br/>

### 返工

很多人在写代码的时候，会**持续不断**的对它进行改动，

以便让代码在每时每刻都保持**“优雅”**。

<br/>

我认为这是不必要的。

因为这在无形中**增加**了很多工作量。

而且我们这次的改动，未必不会在以后再被**改回去**。

<br/>

我们应当认识到这是一种**返工**现象。

<br/>

那么，如何才能避免最终代码**脏乱差**呢？

一个推荐的办法就是“**写两遍**”。

<br/>

在个人开发过程中，我们可以随意发挥，**先把功能做完**，

然后在代码提交之前，**重新阅读**一下自己的代码，

最后一口气把它改好。

<br/>

这样会减少大量的返工，还能保证最终的代码质量。

<br/>

如果一次修改的代码量太大呢？

这说明我们**一次提交的东西**太多了，需要分多次提交，

每次提交“写两遍”。

<br/>

### 重写

看到自己写的代码就非常喜欢，看到别人写的，就觉得很不舒服，

这是**正常**现象。

但是忍不住修改别人的代码，使他变成自己喜欢的方式，

这就**不正常**了。

<br/>

这有几方面值得考虑，

首先，单纯修改代码的表现形式，价值并不明显，

也没有明显的**证据**表明，新代码比旧代码更好维护。

<br/>

此外，代码一方面是**实现功能**，另一方面是**沟通实现意图**，

既然这两方面的目的都达成了，

就没有必要再修改其**表现形式**。

<br/>

值得一提的是，不对现有代码进行充分了解就去修改，这种行为非常危险。

很容易出现故障，

有时候我们觉得脏乱差，是因为现有代码**需要照顾到的细节**太多了。

<br/>

最后，一个旧系统的现有**代码量**其实是很大的，

短时间内我们不可能将它完全改掉，这需要我们**重写**所有的业务逻辑，

因此，学会如何在现有代码的基础上工作，是开发者**必备**的一项技能。

<br/>

所以，对现有代码，我们应该保持敬畏态度，

除非从业务上来看，有了巨大的修改，现有代码必须删掉重写，

否则，不要轻易**重写**它。

<br/>

### 结语

希望本文能帮助对代码有洁癖的强迫症患者们，尽早摆脱纠结，

跳出代码形式的**狭小**领域范围，

早日避开写法问题。

<br/>

况且，如果真要追求可读性和可维护性的话，

没有什么比**当面讲解**和丰富的**文档**更直接有效了，

从代码反推逻辑的话，再好的代码也**无法还原**当初的设计意图。

<br/>

不要过于注重**形式**，要看**意图**，

需要达成什么目的，达到了没有，

还有哪些需要改进的，当前改进是否有**成效**。

<br/>

我们已经在**成效甚微**的事情上浪费了太多时间，

是该放下包袱**轻身**前进了。